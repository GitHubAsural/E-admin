{"version":3,"sources":["webpack:///./src/components/switchs.vue","webpack:///./src/components/switchs.vue?b38c"],"names":["changeHandel","checked","value","name","props","modelValue","String","Number","Boolean","url","params","Object","field","emits","setup","ctx","val","failValue","attrs","activeValue","inactiveValue","method","data","then","res","emit","catch","render","__scopeId"],"mappings":"kSACI,yBAAoE,GAAzD,SAAQ,EAAAA,aAAsBC,QAAS,EAAAC,M,kDAAA,EAAAA,MAAK,K,0DAMxC,+BAAgB,CAC3BC,KAAM,eACNC,MAAO,CACHC,WAAY,CAACC,OAAOC,OAAOC,SAC3BC,IAAKH,OACLI,OAAOC,OACPC,MAAMN,QAEVO,MAAO,CAAC,qBACRC,MAT2B,SASrBV,EAAMW,GACR,IAAMb,EAAQ,kBAAI,GAOlB,SAASF,EAAagB,GAClB,GAAGZ,EAAMK,IAAI,CACT,IAAIQ,EAEAD,EADDA,EACOD,EAAIG,MAAMC,YAEVJ,EAAIG,MAAME,cAGhBH,EADAD,GAAOD,EAAIG,MAAMC,YACLJ,EAAIG,MAAME,cAEVL,EAAIG,MAAMC,YAE1B,IAAIT,EAASN,EAAMM,OACnBA,EAAON,EAAMQ,OAASI,EACtB,eAAQ,CACJP,IAAIL,EAAMK,IACVY,OAAQ,MACRC,KAAMZ,IACPa,MAAK,SAAAC,GACJT,EAAIU,KAAK,oBAAoBT,MAC9BU,OAAM,SAAAF,GACLtB,EAAMA,MAAQe,EACdF,EAAIU,KAAK,oBAAoBR,WAGjCF,EAAIU,KAAK,oBAAoBT,GAGrC,OAnCA,oBAAM,kBAAMZ,EAAMC,cAAY,SAAAW,GAC1Bd,EAAMA,MAAQc,KAEfZ,EAAMC,YAAcU,EAAIG,MAAMC,cAC7BjB,EAAMA,OAAQ,GA+BX,CACHF,eACAE,YCpDhB,EAAOyB,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"static/js/chunk-2d0c0caf.070b759e.js","sourcesContent":["<template>\r\n    <a-switch @change=\"changeHandel\" v-model:checked=\"value\"></a-switch>\r\n</template>\r\n\r\n<script>\r\n    import {defineComponent,ref,watch} from \"vue\";\r\n    import request from '@/utils/axios'\r\n    export default defineComponent({\r\n        name: \"EadminSwitch\",\r\n        props: {\r\n            modelValue: [String,Number,Boolean],\r\n            url: String,\r\n            params:Object,\r\n            field:String,\r\n        },\r\n        emits: ['update:modelValue'],\r\n        setup(props,ctx){\r\n            const value = ref(false)\r\n            watch(() => props.modelValue, val => {\r\n                value.value = val\r\n            })\r\n            if(props.modelValue == ctx.attrs.activeValue) {\r\n                value.value = true\r\n            }\r\n            function changeHandel(val) {\r\n                if(props.url){\r\n                    let failValue\r\n                    if(val){\r\n                        val = ctx.attrs.activeValue\r\n                    }else{\r\n                        val = ctx.attrs.inactiveValue\r\n                    }\r\n                    if (val == ctx.attrs.activeValue) {\r\n                        failValue = ctx.attrs.inactiveValue\r\n                    } else {\r\n                        failValue = ctx.attrs.activeValue\r\n                    }\r\n                    let params = props.params\r\n                    params[props.field] = val\r\n                    request({\r\n                        url:props.url,\r\n                        method: 'put',\r\n                        data: params\r\n                    }).then(res=>{\r\n                        ctx.emit('update:modelValue',val)\r\n                    }).catch(res=>{\r\n                        value.value = failValue\r\n                        ctx.emit('update:modelValue',failValue)\r\n                    })\r\n                }else{\r\n                    ctx.emit('update:modelValue',val)\r\n                }\r\n            }\r\n            return {\r\n                changeHandel,\r\n                value\r\n            }\r\n        }\r\n    })\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./switchs.vue?vue&type=template&id=5fd49606&scoped=true\"\nimport script from \"./switchs.vue?vue&type=script&lang=js\"\nexport * from \"./switchs.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-5fd49606\"\n\nexport default script"],"sourceRoot":""}